<?xml version="1.0" ?>
<sdf version='1.9'>
  <model name='turtlebot3_burger'>
    
    <link name='base_footprint'>
      <inertial>
        <pose>-0.00429 0 0.030734 0 0 0</pose>
        <mass>0.944735</mass>
        <inertia>
          <ixx>0.00717896</ixx> <ixy>-1.22941e-05</ixy> <ixz>0.00057674</ixz>
          <iyy>0.00721804</iyy> <iyz>-5.01209e-06</iyz> <izz>0.00413858</izz>
        </inertia>
      </inertial>
      
      <collision name='base_footprint_fixed_joint_lump__base_link_collision'>
        <pose>-0.032 0 0.08 0 0 0</pose>
        <geometry><box><size>0.14 0.14 0.143</size></box></geometry>
      </collision>
      
      <collision name='base_footprint_fixed_joint_lump__caster_back_link_collision_1'>
        <pose>-0.081 0 0.005 -1.57 0 0</pose>
        <geometry><box><size>0.03 0.009 0.02</size></box></geometry>
      </collision>
      
      <visual name='base_footprint_fixed_joint_lump__base_link_visual'>
        <pose>-0.032 0 0.01 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>0.001 0.001 0.001</scale>
            <uri>model://turtlebot3_description/meshes/bases/burger_base.stl</uri>
          </mesh>
        </geometry>
        <material><diffuse>0.5 0.5 0.5 1</diffuse><ambient>0.5 0.5 0.5 1</ambient></material>
      </visual>
    </link>

    <link name='cargo_platform'>
      <pose>-0.032 0 0.18 0 0 0</pose>
      <collision name='platform_collision'>
        <geometry><box><size>0.16 0.16 0.01</size></box></geometry>
        <surface>
          <friction>
            <ode><mu>10.0</mu><mu2>10.0</mu2></ode>
          </friction>
        </surface>
      </collision>
      <visual name='platform_visual'>
        <geometry><box><size>0.16 0.16 0.01</size></box></geometry>
        <material>
          <diffuse>0.1 0.1 0.1 1</diffuse>
          <ambient>0.1 0.1 0.1 1</ambient>
        </material>
      </visual>
    </link>

    <joint name='platform_joint' type='fixed'>
      <parent>base_footprint</parent>
      <child>cargo_platform</child>
    </joint>

    <joint name='wheel_left_joint' type='revolute'>
      <pose relative_to='base_footprint'>0 0.08 0.033 -1.57 0 0</pose>
      <parent>base_footprint</parent>
      <child>wheel_left_link</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit><lower>-1e+16</lower><upper>1e+16</upper></limit>
      </axis>
    </joint>

    <link name='wheel_left_link'>
      <pose relative_to='wheel_left_joint'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>0.0284989</mass>
        <inertia>
          <ixx>1.11756e-05</ixx> <ixy>-4.23698e-11</ixy> <ixz>-5.93817e-09</ixz>
          <iyy>1.11924e-05</iyy> <iyz>-1.44001e-11</iyz> <izz>2.07126e-05</izz>
        </inertia>
      </inertial>
      <collision name='wheel_left_link_collision'>
        <geometry><cylinder><length>0.018</length><radius>0.033</radius></cylinder></geometry>
        <surface><friction><ode><mu>10.0</mu><mu2>10.0</mu2></ode></friction></surface>
      </collision>
      <visual name='wheel_left_link_visual'>
        <pose>0 0 0 1.57 0 0</pose>
        <geometry><mesh><scale>0.001 0.001 0.001</scale><uri>model://turtlebot3_description/meshes/wheels/left_tire.stl</uri></mesh></geometry>
        <material><diffuse>0.375 0.375 0.375 1</diffuse><ambient>0.375 0.375 0.375 1</ambient></material>
      </visual>
    </link>

    <joint name='wheel_right_joint' type='revolute'>
      <pose relative_to='base_footprint'>0 -0.08 0.033 -1.57 0 0</pose>
      <parent>base_footprint</parent>
      <child>wheel_right_link</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit><lower>-1e+16</lower><upper>1e+16</upper></limit>
      </axis>
    </joint>

    <link name='wheel_right_link'>
      <pose relative_to='wheel_right_joint'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>0.0284989</mass>
        <inertia>
          <ixx>1.11756e-05</ixx> <ixy>-4.23698e-11</ixy> <ixz>-5.93817e-09</ixz>
          <iyy>1.11924e-05</iyy> <iyz>-1.44001e-11</iyz> <izz>2.07126e-05</izz>
        </inertia>
      </inertial>
      <collision name='wheel_right_link_collision'>
        <geometry><cylinder><length>0.018</length><radius>0.033</radius></cylinder></geometry>
        <surface><friction><ode><mu>10.0</mu><mu2>10.0</mu2></ode></friction></surface>
      </collision>
      <visual name='wheel_right_link_visual'>
        <pose>0 0 0 1.57 0 0</pose>
        <geometry><mesh><scale>0.001 0.001 0.001</scale><uri>model://turtlebot3_description/meshes/wheels/right_tire.stl</uri></mesh></geometry>
        <material><diffuse>0.375 0.375 0.375 1</diffuse><ambient>0.375 0.375 0.375 1</ambient></material>
      </visual>
    </link>

    <link name='camera_down_link'>
       <pose>0.07 0 0.11 0 1.3 0</pose> 
      <inertial>
        <mass>0.01</mass>
        <inertia>
          <ixx>0.0001</ixx> <ixy>0</ixy> <ixz>0</ixz>
          <iyy>0.0001</iyy> <iyz>0</iyz> <izz>0.0001</izz>
        </inertia>
      </inertial>
      <sensor name="camera_down" type="camera">
        <always_on>1</always_on>
        <update_rate>30</update_rate>
        <visualize>true</visualize>
        <topic>/model/turtlebot3_burger/camera_down</topic>
        <camera>
          <horizontal_fov>1.047</horizontal_fov> 
          <image>
            <width>1280</width> <height>960</height>
          </image>
          <clip>
            <near>0.01</near>
            <far>3.0</far>
          </clip>
        </camera>
      </sensor>
    </link>

    <joint name='camera_down_joint' type='fixed'>
      <parent>base_footprint</parent>
      <child>camera_down_link</child>
    </joint>

    <plugin
      filename="libignition-gazebo-diff-drive-system.so"
      name="ignition::gazebo::systems::DiffDrive">
      <left_joint>wheel_left_joint</left_joint>
      <right_joint>wheel_right_joint</right_joint>
      <wheel_separation>0.160</wheel_separation>
      <wheel_radius>0.033</wheel_radius>
      <odom_publish_frequency>30</odom_publish_frequency>
      <topic>/model/turtlebot3_burger/cmd_vel</topic>
      <odom_topic>/model/turtlebot3_burger/odometry</odom_topic>
      <tf_topic>/model/turtlebot3_burger/tf</tf_topic>
      <frame_id>odom</frame_id>
      <child_frame_id>base_footprint</child_frame_id>
    </plugin>

    <plugin
      filename="libignition-gazebo-joint-state-publisher-system.so"
      name="ignition::gazebo::systems::JointStatePublisher">
      <topic>/model/turtlebot3_burger/joint_states</topic>
    </plugin>
    
  </model>
</sdf>
